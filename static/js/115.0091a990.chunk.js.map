{"version":3,"file":"static/js/115.0091a990.chunk.js","mappings":"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","sources":["components/Movies/Movies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","functionsAPI.js"],"sourcesContent":["import { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { fetchOnName } from 'functionsAPI';\n\nconst Movies = props => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [query, setQuery] = useState('');\n  const [films, setFilms] = useState([]);\n  const location = useLocation();\n\n  useEffect(() => {\n    setQuery(searchParams.get('query'));\n  }, [searchParams]);\n\n  const submitForm = event => {\n    event.preventDefault();\n\n    setSearchParams(`query=${event.target.children.finder.value}`);\n\n    event.currentTarget.reset();\n  };\n\n  useEffect(() => {\n    query &&\n      fetchOnName(query)\n        .then(value => setFilms(value.results))\n        .catch(error => console.log(error));\n  }, [query]);\n\n  return (\n    <section>\n      <form action=\"query\" onSubmit={submitForm}>\n        <input\n          type=\"text\"\n          name=\"finder\"\n          id=\"finder\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n          required\n        />\n        <button type=\"submit\">search</button>\n      </form>\n      <ul>\n        {films?.map(obj => (\n          <li key={obj.id}>\n            <Link\n              to={`/movies/${obj.id}`}\n              state={{ from: `${location.pathname}${location.search}` }}\n            >\n              {obj.original_title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n};\n\nexport default Movies;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMTljYWY1YjZiNzk0ZDRlMDZhYTBlNDcwNTEyZmM1OCIsInN1YiI6IjY0NzFhNmNhOTQwOGVjMDEzZTgwMTEwYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.7V-KaDkXGjw3QR_sCxenQfJfiW4LhZBy_Qg8BbJLdsY',\n  },\n};\n\nexport const topOfDay = async () => {\n  const answear = await fetch(\n    'https://api.themoviedb.org/3/trending/all/day?language=en-US',\n    options\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(response => response)\n    .catch(err => console.error(err));\n\n  return answear;\n};\n\nexport const fetchOnName = async (name, page = 1) => {\n  const answear = await fetch(\n    `https://api.themoviedb.org/3/search/movie?query=${name\n      .split(' ')\n      .join('%20')}&include_adult=false&language=en-US&page=${page}`,\n    options\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(response => response)\n    .catch(err => console.error(err));\n  return answear;\n};\n\nexport const fetchOnId = async id => {\n  const answear = await fetch(\n    `https://api.themoviedb.org/3/movie/${id}?language=en-US`,\n    options\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(response => response)\n    .catch(err => console.error(err));\n  return answear;\n};\n\nexport const actors = async id => {\n  const answear = await fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?language=en-US`,\n    options\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(response => response)\n    .catch(err => console.error(err));\n\n  return answear;\n};\n\nexport const reviews = async id => {\n  const answear = await fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?language=en-US&page=1`,\n    options\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(response => response)\n    .catch(err => console.error(err));\n  return answear;\n};\n"],"names":["props","useSearchParams","searchParams","setSearchParams","useState","query","setQuery","films","setFilms","location","useLocation","useEffect","get","fetchOnName","then","value","results","catch","error","console","log","action","onSubmit","event","preventDefault","target","children","finder","currentTarget","reset","type","name","id","pattern","title","required","map","obj","to","state","from","pathname","search","original_title","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","options","method","headers","accept","Authorization","topOfDay","fetch","response","ok","Error","status","json","answear","page","split","join","fetchOnId","actors","reviews"],"sourceRoot":""}